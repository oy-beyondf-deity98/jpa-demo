<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net/thymeleaf/layout"
      layout:decorate="~{/layouts/main_template}"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity"
>
<head>
  <meta charset="UTF-8">
  <title>사용자 리스트</title>
</head>
<body>
  <div layout:fragment="content">
	<script th:inline="javascript">
    const resultMsg = [[${msg}]];

    if (resultMsg === "SUCCESS") {
        alert([[#{common.processSuccess}]]);
    }
	  </script>
			<h2 th:text="#{user.header.list}">사용자 리스트</h2>
      <button><a th:href="@{/user/register}" th:text="#{action.new}">등록</a></button>
	    <table border="1">
	      <tr>
	        <th align="center" width="160" th:text="#{user.id}">user.id</th>
	        <th align="center" width="160" th:text="#{user.name}">user.name</th>
	      </tr>
	      <tr th:if="${#lists.isEmpty(list)}">
	        <td colspan="5">List is Empty</td>
	      </tr>
	      <tr th:each="authUser : ${list}">
	        <td th:text="${authUser.id}">authUser.id</td>
	        <td><a th:href="@{|/user/read?id=${authUser.id}|}" th:text="${authUser.name}"></a></td>
	      </tr>
	    </table>
  </div>
</body>
</html>